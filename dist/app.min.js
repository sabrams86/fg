"use strict";var app=angular.module("friendlyGear",["ngRoute","ngCookies"]);app.config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{templateUrl:"/partials/splash.html",controller:"SplashController"}).when("/home",{templateUrl:"/partials/home.html",controller:"HomeController"}).when("/signup",{templateUrl:"/partials/signup.html",controller:"SignUpController"}).when("/items/new",{templateUrl:"/partials/items/new.html",controller:"ItemsController"}).when("/items/:id",{templateUrl:"/partials/items/show.html",controller:"ShowItemController"}).when("/items/:id/edit",{templateUrl:"/partials/items/edit.html",controller:"EditItemController"}).otherwise({redirectTo:"/"}),e.html5Mode(!0)}]),app.controller("HomeController",["$scope","$location","$cookies","ItemService",function(t,e,n,o){o.getAllItems().then(function(e){t.items=e}),t.newItem=function(){e.path("/items/new")}}]),app.controller("ItemsController",["$scope","$cookies","$location","ItemService",function(t,e,n,o){t.newItem=function(){n.path("/items/new")},t.showItem=function(){},t.createItem=function(){t.itemData={item:{name:t.name,brand:t.brand,condition:t.condition,datePurchased:t.datePurchased}},o.createItem(this.itemData).then(function(t){n.path("/items/"+t._id)})}}]),app.controller("SignUpController",["$scope","$cookies","$location","UserService",function(t,e,n,o){t.signUp=function(){t.user={user:{username:t.username,name:t.name,email:t.email,city:t.city,state:t.state,zip:t.zip,password:t.password,passwordconfirm:t.passwordconfirm}},o.signUpUser(this.user)}}]),app.controller("SplashController",["$scope","$cookies","$location",function(t,e,n){t.search=function(){n.path("/home")},t.signUp=function(){n.path("/signup")}}]),app.factory("ItemService",["$http","$cookies",function(t,e){var n={};return n.getAllItems=function(){return t.get("http://localhost:3000/items").then(function(t){return t.data})},n.getItem=function(e){return t.get("http://localhost:3000/items/"+e).then(function(t){return t.data})},n.createItem=function(e){return t.post("http://localhost:3000/items",e).then(function(t){return t.data})},n.updateItem=function(e,n){return t.post("http://localhost:3000/items/"+n,e).then(function(t){return t.data})},n.deleteItem=function(e){return t.post("http://localhost:3000/items/"+e+"/delete")},n.getUserItems=function(e){return t.get("/items/"+e).then(function(t){return t.data})},n}]),app.factory("UserService",["$http","$cookies",function(t,e){var n={};return n.getUser=function(e){return t.get("/users/"+e).then(function(t){return t.data})},n.signUpUser=function(n){return console.log(n),t.post("http://localhost:3000/users",n).then(function(t){return e.put("user",t.data._id),t})},n}]),app.controller("EditItemController",["$scope","$cookies","$location","ItemService",function(t,e,n,o){o.getItem(n.path().split("/")[2]).then(function(e){t.item=e}),t.updateItem=function(e){t.itemData={item:{name:t.name,brand:t.brand,condition:t.condition,datePurchased:t.datePurchased}},o.updateItem(this.itemData,e).then(function(t){n.path("/items/"+t._id)})}}]),app.controller("ShowItemController",["$scope","$cookies","$location","ItemService",function(t,e,n,o){o.getItem(n.path().split("/")[2]).then(function(e){t.item=e}),t.deleteItem=function(t){o.deleteItem(t).then(function(){n.path("/home")})},t.editItem=function(t){o.deleteItem(t).then(function(){n.path("/items/"+t+"/edit")})}}]);